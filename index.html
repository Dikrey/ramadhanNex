<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ramadan Elite - Premium Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles/index.css">
    <link rel="stylesheet" href="styles/prayer-cards.css">
    <link rel="stylesheet" href="styles/new-features.css">
    <link rel="stylesheet" href="styles/elite-nav.css">
</head>

<body>

    <!-- FIXED UI LAYER — lives at body level, never inside any transformed/overflow container -->
    <!-- Floating Action Button -->
    <button onclick="showQuickActions()" title="Aksi Cepat" id="main-fab" class="elite-fab">
        <span class="elite-fab-ring"></span>
        <span class="elite-fab-ring2"></span>
        <i class="fas fa-plus elite-fab-icon" id="elite-fab-icon"></i>
        <span class="elite-fab-ripple"></span>
    </button>

    <!-- Bottom Navigation -->
    <nav id="bottom-nav" class="elite-nav">
        <div class="elite-nav-pill" id="elite-nav-pill"></div>

        <button onclick="showTab('home')" id="nav-home" class="elite-nav-item active" data-label="Beranda">
            <div class="elite-nav-icon-wrap"><i class="fas fa-home"></i></div>
            <span class="elite-nav-dot"></span>
            <span class="elite-nav-label">Beranda</span>
        </button>

        <button onclick="showTab('tracker')" id="nav-tracker" class="elite-nav-item" data-label="Target">
            <div class="elite-nav-icon-wrap"><i class="fas fa-bullseye"></i></div>
            <span class="elite-nav-dot"></span>
            <span class="elite-nav-label">Target</span>
        </button>

        <button onclick="showTab('money')" id="nav-money" class="elite-nav-item" data-label="Uang">
            <div class="elite-nav-icon-wrap"><i class="fas fa-wallet"></i></div>
            <span class="elite-nav-dot"></span>
            <span class="elite-nav-label">Uang</span>
        </button>

        <button onclick="showTab('stats')" id="nav-stats" class="elite-nav-item" data-label="Statistik">
            <div class="elite-nav-icon-wrap"><i class="fas fa-chart-pie"></i></div>
            <span class="elite-nav-dot"></span>
            <span class="elite-nav-label">Statistik</span>
        </button>

        <button onclick="showTab('more')" id="nav-more" class="elite-nav-item" data-label="Lainnya">
            <div class="elite-nav-icon-wrap"><i class="fas fa-th-large"></i></div>
            <span class="elite-nav-dot"></span>
            <span class="elite-nav-label">Lainnya</span>
        </button>
    </nav>
    <!-- END FIXED UI LAYER -->

    <!-- SCROLLABLE CONTENT WRAPPER (overflow-x here, NOT on body) -->
    <div id="scroll-wrapper" style="overflow-x:hidden; min-height:100vh;">

        <div class="bg-pattern"></div>
        <div class="floating-orb orb-1"></div>
        <div class="floating-orb orb-2"></div>
        <div class="floating-orb orb-3"></div>

        <div id="prayer-notification-container" class="prayer-notification-container">
            <div class="prayer-notification-content">
                <i id="prayer-notification-icon" class="fas fa-bell"></i>
                <span id="prayer-notification-text">Waktu Sholat Dzuhur akan segera tiba!</span>
            </div>
            <button onclick="closePrayerNotification()" class="prayer-notification-close">&times;</button>
        </div>


        <div class="particles-container" id="particles"></div>


        <header class="p-6 max-w-2xl mx-auto relative z-10">
            <div class="flex justify-between items-start">
                <div class="fade-in" style="animation-delay: 0.1s;">
                    <p id="header-greeting" class="text-xs font-bold text-slate-500 uppercase tracking-[0.2em] mb-1">
                        SELAMAT
                        DATANG
                    </p>
                    <h1 class="text-2xl font-black">
                        <span class="text-gradient-gold">Ramadan</span><span class="text-slate-800">Start</span>
                    </h1>
                    <p id="hijri-date" class="text-sm text-slate-500 mt-1 font-medium">Ramadan 1447 H</p>
                </div>
                <div class="flex items-center gap-3 fade-in" style="animation-delay: 0.2s;">
                    <button onclick="openSettings()" title="Buka Pengaturan"
                        class="w-12 h-12 glass-card flex items-center justify-center text-slate-500 hover:text-slate-800 transition-all">
                        <i class="fas fa-cog"></i>
                    </button>
                    <div class="glass-card px-4 py-2 flex items-center gap-2">
                        <i id="streak-icon" class="fas fa-fire text-2xl text-slate-300"></i>
                        <span id="streak-count" class="text-xl font-black">0</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="max-w-2xl mx-auto px-6 pb-40 relative z-10">

            <!-- HOME SECTION -->
            <section id="section-home" class="space-y-6">
                <!-- Ultra Modern Luxury Clock Card -->
                <div class="luxury-clock-card glass-card-strong p-0 relative overflow-hidden slide-up"
                    style="animation-delay: 0.3s;">
                    <!-- Animated Background Gradient -->
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-amber-400/20 via-rose-400/10 to-emerald-400/20 animate-gradient-shift">
                    </div>

                    <!-- Top Glow Line -->
                    <div
                        class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-amber-400 to-transparent opacity-70 animate-pulse-slow">
                    </div>

                    <!-- Content Container -->
                    <div class="relative z-10 p-8">

                        <div class="flex items-center justify-center gap-2 mb-6">
                            <div class="w-2 h-2 rounded-full bg-emerald-400 animate-ping"></div>
                            <div class="w-2 h-2 rounded-full bg-emerald-400"></div>
                            <span class="text-xs font-bold uppercase tracking-widest text-slate-600 mx-2">Live
                                Now</span>
                            <div class="w-2 h-2 rounded-full bg-emerald-400"></div>
                            <div class="w-2 h-2 rounded-full bg-emerald-400 animate-ping"></div>
                        </div>


                        <div class="relative mb-3">
                            <div class="absolute inset-0 bg-gradient-to-r from-amber-400/20 to-rose-400/20 blur-3xl">
                            </div>
                            <h2 id="clock"
                                class="clock-display relative z-10 bg-gradient-to-r from-amber-600 via-rose-500 to-amber-600 bg-clip-text text-transparent animate-gradient-x"
                                style="font-size: 3.5rem; font-weight: 900; letter-spacing: -0.05em;">00:00:00</h2>
                        </div>

                        <!-- Date below clock -->
                        <p id="clock-date" class="text-sm font-semibold text-slate-500 mb-2 tracking-wide">Kamis, 1
                            Januari
                            2026</p>

                        <!-- Greeting below date, changes dynamically with time -->
                        <p id="clock-greeting" class="text-xl font-bold uppercase text-slate-700 mb-4">Selamat Pagi</p>


                        <!-- MODERN WIDGET GRID -->
                        <div class="dash-grid mb-6">
                            <!-- Next Prayer Widget -->
                            <div class="dash-widget widget-next">
                                <i class="fas fa-mosque dash-widget-icon-bg text-amber-500"></i>
                                <div class="dash-label">
                                    <i class="fas fa-clock text-amber-500"></i> Selanjutnya
                                </div>
                                <!-- JS injects formatting here. We'll style the inner elements via CSS -->
                                <div id="countdown" class="dash-value flex flex-col justify-center h-full">
                                    --:--:--
                                </div>
                            </div>

                            <!-- Iftar Widget -->
                            <div class="dash-widget widget-iftar">
                                <i class="fas fa-moon dash-widget-icon-bg text-rose-500"></i>
                                <div class="dash-label">
                                    <i class="fas fa-utensils text-rose-500"></i> Berbuka
                                </div>
                                <div id="maghrib-countdown" class="dash-value flex items-center h-full">
                                    --:--:--
                                </div>
                                <div class="dash-sub absolute bottom-4 left-4">
                                    Waktu Maghrib
                                </div>
                            </div>
                        </div>

                        <!-- 🧠 NEW FEATURE: DAILY INSIGHT -->
                        <div class="insight-card slide-up" style="animation-delay: 0.1s;">
                            <div class="insight-decoration"></div>
                            <div class="insight-content">
                                <div class="insight-title">
                                    <i class="fas fa-lightbulb"></i> Mutiara Hari Ini
                                </div>
                                <div class="insight-text" id="daily-quote-text">
                                    "Barangsiapa berpuasa Ramadan karena iman dan mengharap pahala dari Allah, niscaya
                                    diampuni dosa-dosanya yang telah lalu."
                                </div>
                                <div class="insight-source" id="daily-quote-source">HR. Bukhari & Muslim</div>
                            </div>
                        </div>


                        <div id="ramadan-progress" class="glass-card p-4">
                            <div class="flex justify-between text-sm mb-3">
                                <span class="text-slate-600 font-semibold flex items-center gap-2">
                                    <i class="fas fa-calendar-alt text-amber-500"></i>
                                    Progress Ramadan
                                </span>
                                <span id="ramadan-day" class="font-black text-gradient-gold">Hari 1/30</span>
                            </div>
                            <div class="h-3 bg-slate-200 rounded-full overflow-hidden relative">
                                <div id="ramadan-bar"
                                    class="h-full bg-gradient-to-r from-amber-400 via-rose-400 to-amber-500 rounded-full transition-all duration-1000 relative"
                                    style="width: 0%">
                                    <div
                                        class="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer">
                                    </div>
                                </div>
                            </div>
                            <div class="flex justify-between text-xs text-slate-500 mt-2">
                                <span>Mulai</span>
                                <span id="ramadan-percentage">0%</span>
                                <span>Selesai</span>
                            </div>
                        </div>
                    </div>

                    <!-- Bottom Decorative Line -->
                    <div
                        class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-rose-400 to-transparent opacity-50">
                    </div>
                </div>

                <!-- Streak Absensi Card -->
                <div class="glass-card glass-card-strong p-8 text-center relative overflow-hidden slide-up"
                    style="animation-delay: 0.35s;">
                    <div
                        class="absolute top-0 left-1/2 -translate-x-1/2 w-3/4 h-1 bg-gradient-to-r from-transparent via-rose-400 to-transparent opacity-50">
                    </div>

                    <div class="flex items-center justify-center gap-3 mb-4">
                        <div class="pulse-dot bg-rose-500"></div>
                        <span class="text-xs font-bold uppercase tracking-widest text-slate-500">Streak Harian</span>
                    </div>

                    <div class="relative inline-block mb-6">
                        <div class="streak-circle-container">
                            <svg class="streak-circle-svg" width="180" height="180">
                                <defs>
                                    <linearGradient id="streakGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#ff6b35;stop-opacity:1" />
                                        <stop offset="50%" style="stop-color:#f7931e;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#ffd700;stop-opacity:1" />
                                    </linearGradient>
                                </defs>
                                <circle cx="90" cy="90" r="75" stroke="#e2e8f0" stroke-width="8" fill="transparent" />
                                <circle id="streak-progress-circle" cx="90" cy="90" r="75" stroke="url(#streakGradient)"
                                    stroke-width="8" fill="transparent" stroke-dasharray="471.24"
                                    stroke-dashoffset="471.24" stroke-linecap="round" class="progress-ring-circle" />
                            </svg>
                            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center">
                                <div id="streak-display" class="text-6xl font-black mb-1">
                                    <span id="streak-number" class="text-gradient-gold">0</span>
                                </div>
                                <p class="text-sm text-slate-500 font-semibold">Hari Berturut</p>
                            </div>
                        </div>
                    </div>

                    <div class="mb-6">
                        <p class="text-sm font-semibold text-slate-600 mb-3">Bagaimana harimu?</p>
                        <div class="flex justify-center gap-3">
                            <button onclick="selectMoodAndAbsen('😊', 'sangat-baik')" class="mood-selector-btn"
                                data-mood="😊" title="Sangat Baik">
                                <span class="text-4xl">😊</span>
                            </button>
                            <button onclick="selectMoodAndAbsen('🙂', 'baik')" class="mood-selector-btn" data-mood="🙂"
                                title="Baik">
                                <span class="text-4xl">🙂</span>
                            </button>
                            <button onclick="selectMoodAndAbsen('😐', 'biasa')" class="mood-selector-btn" data-mood="😐"
                                title="Biasa">
                                <span class="text-4xl">😐</span>
                            </button>
                            <button onclick="selectMoodAndAbsen('😔', 'kurang')" class="mood-selector-btn"
                                data-mood="😔" title="Kurang">
                                <span class="text-4xl">😔</span>
                            </button>
                        </div>
                    </div>

                    <button onclick="openStreakModal()" class="btn-primary w-full streak-absen-btn">
                        <i class="fas fa-calendar-check mr-2"></i>
                        <span id="streak-btn-text">Absen Hari Ini</span>
                    </button>

                    <div id="streak-status" class="mt-4 text-sm text-slate-500"></div>
                </div>

                <!-- Notification Center Card -->
                <div class="glass-card p-6 slide-up" style="animation-delay: 0.38s;">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold text-slate-700 flex items-center gap-2">
                            <i class="fas fa-bell text-amber-500"></i>
                            Notifikasi
                        </h3>
                        <button onclick="clearAllNotifications()"
                            class="text-xs text-slate-500 hover:text-rose-500 transition-colors">
                            <i class="fas fa-trash-alt mr-1"></i>Hapus Semua
                        </button>
                    </div>
                    <div id="notification-list" class="space-y-2 max-h-64 overflow-y-auto custom-scroll">
                        <div class="text-center text-slate-400 py-8">
                            <i class="fas fa-bell-slash text-4xl mb-2 opacity-50"></i>
                            <p class="text-sm">Belum ada notifikasi</p>
                        </div>
                    </div>
                </div>

                <!-- Weekly Activity Chart -->
                <div class="glass-card p-6 slide-up" style="animation-delay: 0.4s;">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fas fa-chart-line text-emerald-500"></i>
                        Aktivitas Mingguan
                    </h3>
                    <div class="chart-container h-48">
                        <canvas id="home-weekly-chart"></canvas>
                    </div>
                </div>

                <!-- Daily Progress -->
                <div class="glass-card p-6 slide-up" style="animation-delay: 0.45s;">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fas fa-tasks text-violet-500"></i>
                        Progress Harian
                    </h3>
                    <div class="text-center mb-4">
                        <p class="text-5xl font-black text-gradient-gold" id="daily-progress-percent">0%</p>
                        <p class="text-sm text-slate-500 mt-2" id="daily-progress-text">0 dari 8 target selesai</p>
                    </div>
                    <div class="h-3 bg-slate-200 rounded-full overflow-hidden">
                        <div id="daily-progress-bar"
                            class="h-full bg-gradient-to-r from-emerald-400 to-emerald-500 rounded-full transition-all duration-1000"
                            style="width: 0%"></div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="grid grid-cols-4 gap-3 slide-up" style="animation-delay: 0.5s;">
                    <button onclick="showTab('quran')"
                        class="glass-card p-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform">
                        <div
                            class="w-12 h-12 rounded-2xl bg-gradient-to-br from-emerald-400 to-emerald-500 flex items-center justify-center text-white text-xl">
                            <i class="fas fa-book-quran"></i>
                        </div>
                        <span class="text-xs font-semibold text-slate-600">Quran</span>
                    </button>
                    <button onclick="showTab('dzikir')"
                        class="glass-card p-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform">
                        <div
                            class="w-12 h-12 rounded-2xl bg-gradient-to-br from-amber-400 to-amber-500 flex items-center justify-center text-white text-xl">
                            <i class="fas fa-hands-praying"></i>
                        </div>
                        <span class="text-xs font-semibold text-slate-600">Dzikir</span>
                    </button>
                    <button onclick="showTab('journal')"
                        class="glass-card p-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform">
                        <div
                            class="w-12 h-12 rounded-2xl bg-gradient-to-br from-rose-400 to-rose-500 flex items-center justify-center text-white text-xl">
                            <i class="fas fa-book-open"></i>
                        </div>
                        <span class="text-xs font-semibold text-slate-600">Journal</span>
                    </button>
                    <button onclick="showTab('achievements')"
                        class="glass-card p-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform relative">
                        <div
                            class="w-12 h-12 rounded-2xl bg-gradient-to-br from-violet-400 to-violet-500 flex items-center justify-center text-white text-xl">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <span class="text-xs font-semibold text-slate-600">Badges</span>
                        <span id="new-badge-indicator" class="notification-badge hidden">!</span>
                    </button>
                </div>

                <!-- Prayer Times -->
                <div class="slide-up" style="animation-delay: 0.6s;">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold text-slate-700">Jadwal Sholat</h3>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-location-dot text-amber-600"></i>
                            <select id="city-select" class="input-luxury bg-white/50"
                                style="padding-right: 2.5rem; background-position: right 0.75rem center;">
                                <option value="medan">Medan</option>
                                <option value="jakarta">Jakarta</option>
                                <option value="bandung">Bandung</option>
                                <option value="surabaya">Surabaya</option>
                                <option value="yogyakarta">Yogyakarta</option>
                            </select>
                        </div>
                    </div>
                    <div id="prayer-grid" style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
                        <!-- Prayer cards will be rendered here -->
                    </div>
                </div>

                <!-- ✨ Terbit & Dhuha Card -->
                <div class="slide-up" style="animation-delay: 0.65s;">
                    <div class="terbit-dhuha-card relative overflow-hidden rounded-3xl p-5">
                        <!-- Animated background orbs -->
                        <div class="absolute top-0 right-0 w-40 h-40 rounded-full opacity-20 blur-3xl"
                            style="background: radial-gradient(circle, #fbbf24, #f59e0b);"></div>
                        <div class="absolute bottom-0 left-0 w-32 h-32 rounded-full opacity-15 blur-3xl"
                            style="background: radial-gradient(circle, #fb923c, #f97316);"></div>

                        <div class="relative z-10">
                            <div class="flex items-center gap-2 mb-4">
                                <div class="w-8 h-8 rounded-xl flex items-center justify-center"
                                    style="background: linear-gradient(135deg, #fbbf24, #f97316);">
                                    <i class="fas fa-sun text-white text-sm"></i>
                                </div>
                                <h3 class="font-bold text-slate-700 text-sm">Waktu Matahari — Medan</h3>
                                <div class="ml-auto">
                                    <span class="text-xs font-bold px-2 py-1 rounded-full"
                                        style="background: rgba(251,191,36,0.15); color: #d97706;">Hari Ini</span>
                                </div>
                            </div>

                            <div class="grid grid-cols-2 gap-3">
                                <!-- Terbit Card -->
                                <div class="terbit-item-card rounded-2xl p-4 relative overflow-hidden">
                                    <div class="absolute inset-0 opacity-70"
                                        style="background: linear-gradient(135deg, rgba(251,191,36,0.12) 0%, rgba(249,115,22,0.08) 100%);">
                                    </div>
                                    <div class="relative z-10">
                                        <div class="flex items-center gap-2 mb-2">
                                            <div class="terbit-icon-wrapper">
                                                <i class="fas fa-sun terbit-icon"></i>
                                            </div>
                                            <span
                                                class="text-xs font-bold text-amber-700 uppercase tracking-widest">Terbit</span>
                                        </div>
                                        <p class="text-2xl font-black text-slate-800 tracking-tight">06<span
                                                class="text-amber-500">:</span>37</p>
                                        <p class="text-xs text-slate-500 mt-1">🌅 Fajar Astronomis</p>
                                    </div>
                                </div>

                                <!-- Dhuha Card -->
                                <div class="dhuha-item-card rounded-2xl p-4 relative overflow-hidden">
                                    <div class="absolute inset-0 opacity-70"
                                        style="background: linear-gradient(135deg, rgba(251,146,60,0.12) 0%, rgba(234,179,8,0.08) 100%);">
                                    </div>
                                    <div class="relative z-10">
                                        <div class="flex items-center gap-2 mb-2">
                                            <div class="dhuha-icon-wrapper">
                                                <i class="fas fa-cloud-sun dhuha-icon"></i>
                                            </div>
                                            <span
                                                class="text-xs font-bold text-orange-700 uppercase tracking-widest">Dhuha</span>
                                        </div>
                                        <p class="text-2xl font-black text-slate-800 tracking-tight">07<span
                                                class="text-orange-500">:</span>02</p>
                                        <p class="text-xs text-slate-500 mt-1">🕌 Sholat Sunnah</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Dhuha info strip -->
                            <div class="mt-3 flex items-center gap-2 p-3 rounded-2xl"
                                style="background: rgba(251,191,36,0.08); border: 1px solid rgba(251,191,36,0.2);">
                                <i class="fas fa-info-circle text-amber-500 text-sm"></i>
                                <p class="text-xs text-slate-600">Waktu Dhuha dimulai <strong
                                        class="text-amber-600">07:02</strong> hingga sebelum <strong
                                        class="text-amber-600">Adzan Dzuhur</strong> — minimal 2 rakaat</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ⏱️ IFTAR COUNTDOWN CARD -->
                <div class="slide-up" style="animation-delay: 0.68s;">
                    <div class="iftar-countdown-card relative overflow-hidden rounded-3xl p-6">
                        <!-- Dark galaxy BG -->
                        <div class="absolute inset-0"
                            style="background: linear-gradient(135deg, #0f0c29 0%, #1a1a4e 50%, #24243e 100%);"></div>
                        <!-- Animated nebula blobs -->
                        <div class="absolute top-0 left-1/4 w-48 h-48 rounded-full opacity-20 blur-3xl"
                            style="background: radial-gradient(circle, #7c3aed, transparent); animation: nebulaFloat1 8s ease-in-out infinite;">
                        </div>
                        <div class="absolute bottom-0 right-1/4 w-40 h-40 rounded-full opacity-15 blur-3xl"
                            style="background: radial-gradient(circle, #059669, transparent); animation: nebulaFloat2 10s ease-in-out infinite;">
                        </div>

                        <div class="relative z-10">
                            <!-- Header -->
                            <div class="flex items-center justify-between mb-5">
                                <div>
                                    <p class="text-xs font-bold uppercase tracking-widest mb-1"
                                        style="color: rgba(167,139,250,0.8);">⏳ Hitung Mundur</p>
                                    <h3 class="text-lg font-black text-white">Waktu Berbuka Puasa</h3>
                                </div>
                                <div class="iftar-icon-pulse">
                                    <i class="fas fa-utensils text-violet-300 text-xl"></i>
                                </div>
                            </div>

                            <!-- Countdown Digits -->
                            <div class="flex items-center justify-center gap-3 mb-5" id="iftar-countdown-row">
                                <div class="iftar-digit-block">
                                    <div class="iftar-digit" id="iftar-hours">--</div>
                                    <div class="iftar-digit-label">Jam</div>
                                </div>
                                <div class="iftar-separator">:</div>
                                <div class="iftar-digit-block">
                                    <div class="iftar-digit" id="iftar-minutes">--</div>
                                    <div class="iftar-digit-label">Menit</div>
                                </div>
                                <div class="iftar-separator">:</div>
                                <div class="iftar-digit-block">
                                    <div class="iftar-digit" id="iftar-seconds">--</div>
                                    <div class="iftar-digit-label">Detik</div>
                                </div>
                            </div>

                            <!-- Progress bar -->
                            <div class="iftar-progress-track mb-4">
                                <div class="iftar-progress-fill" id="iftar-progress-fill"></div>
                                <div class="iftar-progress-glow" id="iftar-progress-glow"></div>
                            </div>

                            <!-- Bottom status -->
                            <div class="flex items-center justify-between">
                                <p class="text-xs font-semibold" style="color: rgba(167,139,250,0.7);">
                                    <i class="fas fa-mosque mr-1"></i>
                                    Maghrib: <span id="iftar-maghrib-time"
                                        class="text-violet-300 font-bold">--:--</span>
                                </p>
                                <div id="iftar-status-badge" class="iftar-badge">
                                    <span class="iftar-badge-dot"></span>
                                    <span id="iftar-badge-text">Menghitung...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 📖 AYAT AL-QURAN OF THE DAY -->
                <div class="slide-up" style="animation-delay: 0.72s;">
                    <div class="quran-verse-card relative overflow-hidden rounded-3xl" id="quran-verse-card">
                        <!-- BG -->
                        <div class="absolute inset-0"
                            style="background: linear-gradient(135deg, #064e3b 0%, #065f46 40%, #047857 100%);"></div>
                        <div class="absolute top-0 right-0 w-52 h-52 rounded-full opacity-10 blur-3xl"
                            style="background: radial-gradient(circle, #34d399, transparent); transform: translate(30%,-30%);">
                        </div>
                        <div class="absolute bottom-0 left-0 w-40 h-40 rounded-full opacity-10 blur-3xl"
                            style="background: radial-gradient(circle, #fbbf24, transparent); transform: translate(-30%,30%);">
                        </div>

                        <!-- Decorative Arabic pattern overlay -->
                        <div class="absolute inset-0 opacity-5"
                            style="background-image: repeating-linear-gradient(45deg, rgba(255,255,255,0.1) 0px, rgba(255,255,255,0.1) 1px, transparent 1px, transparent 12px); background-size: 12px 12px;">
                        </div>

                        <div class="relative z-10 p-6">
                            <!-- Header -->
                            <div class="flex items-center justify-between mb-5">
                                <div>
                                    <p class="text-xs font-bold uppercase tracking-widest mb-1"
                                        style="color: rgba(110,231,183,0.8);">📖 Ayat Pilihan Hari Ini</p>
                                    <h3 class="text-lg font-black text-white">Al-Quran of the Day</h3>
                                </div>
                                <button onclick="refreshQuranVerse()" class="quran-refresh-btn" title="Ganti Ayat">
                                    <i class="fas fa-sync-alt" id="quran-refresh-icon"></i>
                                </button>
                            </div>

                            <!-- Verse flip container -->
                            <div class="quran-flip-container" id="quran-flip-container">
                                <div class="quran-flip-inner" id="quran-flip-inner">
                                    <!-- Arabic text -->
                                    <div class="text-right mb-4">
                                        <p id="quran-arabic" class="text-2xl leading-relaxed font-bold"
                                            style="color: rgba(255,255,255,0.95); font-family: 'Traditional Arabic', 'Scheherazade', serif; text-shadow: 0 0 20px rgba(52,211,153,0.3);">
                                            بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ</p>
                                    </div>
                                    <!-- Translation -->
                                    <div class="quran-translation-box">
                                        <p id="quran-translation" class="text-sm font-semibold italic leading-relaxed"
                                            style="color: rgba(255,255,255,0.85);">"Dengan nama Allah Yang Maha
                                            Pengasih,
                                            Maha Penyayang"</p>
                                    </div>
                                    <!-- Source & number -->
                                    <div class="flex items-center justify-between mt-4">
                                        <p id="quran-source" class="text-xs font-bold"
                                            style="color: rgba(110,231,183,0.8);">QS. Al-Fatihah (1:1)</p>
                                        <div class="flex gap-1" id="quran-dots">
                                            <span class="quran-dot active"></span>
                                            <span class="quran-dot"></span>
                                            <span class="quran-dot"></span>
                                            <span class="quran-dot"></span>
                                            <span class="quran-dot"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 🎵 MINI MUROTTAL PLAYER -->
                <div class="slide-up" style="animation-delay: 0.76s;">
                    <div class="murottal-card relative overflow-hidden rounded-3xl p-5">
                        <!-- BG -->
                        <div class="absolute inset-0"
                            style="background: linear-gradient(135deg, #1c1917 0%, #292524 50%, #1c1917 100%);"></div>
                        <div class="absolute top-0 left-0 w-56 h-56 rounded-full opacity-10 blur-3xl"
                            style="background: radial-gradient(circle, #f59e0b, transparent); transform: translate(-30%,-30%);">
                        </div>

                        <div class="relative z-10">
                            <!-- Header -->
                            <div class="flex items-center justify-between mb-4">
                                <div>
                                    <p class="text-xs font-bold uppercase tracking-widest mb-1"
                                        style="color: rgba(251,191,36,0.7);">🎵 Murottal Player</p>
                                    <h3 class="text-base font-black text-white" id="murottal-title">Al-Fatihah — Mishary
                                        Rashid</h3>
                                </div>
                                <div class="w-10 h-10 rounded-2xl flex items-center justify-center"
                                    style="background: rgba(251,191,36,0.15);">
                                    <i class="fas fa-music text-amber-400"></i>
                                </div>
                            </div>

                            <!-- Visualizer bars -->
                            <div class="murottal-visualizer mb-4" id="murottal-visualizer">
                                <div class="viz-bar" style="--delay:0s;--h:40%"></div>
                                <div class="viz-bar" style="--delay:0.1s;--h:70%"></div>
                                <div class="viz-bar" style="--delay:0.15s;--h:55%"></div>
                                <div class="viz-bar" style="--delay:0.05s;--h:90%"></div>
                                <div class="viz-bar" style="--delay:0.2s;--h:60%"></div>
                                <div class="viz-bar" style="--delay:0.08s;--h:80%"></div>
                                <div class="viz-bar" style="--delay:0.12s;--h:45%"></div>
                                <div class="viz-bar" style="--delay:0.18s;--h:75%"></div>
                                <div class="viz-bar" style="--delay:0.03s;--h:50%"></div>
                                <div class="viz-bar" style="--delay:0.22s;--h:65%"></div>
                                <div class="viz-bar" style="--delay:0.07s;--h:85%"></div>
                                <div class="viz-bar" style="--delay:0.14s;--h:35%"></div>
                                <div class="viz-bar" style="--delay:0.09s;--h:70%"></div>
                                <div class="viz-bar" style="--delay:0.19s;--h:55%"></div>
                                <div class="viz-bar" style="--delay:0.06s;--h:90%"></div>
                                <div class="viz-bar" style="--delay:0.25s;--h:60%"></div>
                            </div>

                            <!-- Track selector -->
                            <div class="flex gap-2 mb-4 overflow-x-auto pb-1" id="murottal-tracks"
                                style="scrollbar-width:none;">
                                <button onclick="selectMurottal(0)" class="murottal-track-btn active"
                                    data-idx="0">Al-Fatihah</button>
                                <button onclick="selectMurottal(1)" class="murottal-track-btn" data-idx="1">Al-Kahfi
                                    1-10</button>
                                <button onclick="selectMurottal(2)" class="murottal-track-btn"
                                    data-idx="2">Ar-Rahman</button>
                                <button onclick="selectMurottal(3)" class="murottal-track-btn"
                                    data-idx="3">Al-Mulk</button>
                                <button onclick="selectMurottal(4)" class="murottal-track-btn"
                                    data-idx="4">Yasin</button>
                            </div>

                            <!-- Controls -->
                            <div class="flex items-center justify-between">
                                <button onclick="prevMurottal()" class="murottal-ctrl-btn">
                                    <i class="fas fa-step-backward"></i>
                                </button>
                                <button onclick="toggleMurottal()" class="murottal-play-btn" id="murottal-play-btn">
                                    <i class="fas fa-play" id="murottal-play-icon"></i>
                                </button>
                                <button onclick="nextMurottal()" class="murottal-ctrl-btn">
                                    <i class="fas fa-step-forward"></i>
                                </button>
                                <div class="murottal-volume-row">
                                    <i class="fas fa-volume-up text-amber-400 text-xs"></i>
                                    <input type="range" id="murottal-volume" min="0" max="100" value="70"
                                        class="murottal-volume-slider" oninput="setMurottalVolume(this.value)">
                                </div>
                            </div>

                            <!-- hidden audio -->
                            <audio id="murottal-audio" preload="none"></audio>
                        </div>
                    </div>
                </div>

                <!-- Community Goals -->
                <div class="glass-card p-6 slide-up" style="animation-delay: 0.7s;">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fas fa-users text-cyan-500"></i>
                        Target Komunitas
                    </h3>
                    <div class="space-y-4">
                        <div class="bg-gradient-to-r from-emerald-50 to-teal-50 rounded-2xl p-4">
                            <div class="flex justify-between items-center mb-2">
                                <span class="font-semibold text-slate-700">Khatam Bersama</span>
                                <span class="text-sm text-emerald-600 font-bold">23% Selesai</span>
                            </div>
                            <div class="h-2 bg-white rounded-full overflow-hidden">
                                <div class="h-full bg-gradient-to-r from-emerald-400 to-teal-400 rounded-full"
                                    style="width: 23%"></div>
                            </div>
                            <p class="text-xs text-slate-500 mt-2">1,234 peserta sedang bersama-sama mengkhatamkan Quran
                            </p>
                        </div>
                        <div class="bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-4">
                            <div class="flex justify-between items-center mb-2">
                                <span class="font-semibold text-slate-700">Sedekah Terkumpul</span>
                                <span class="text-sm text-amber-600 font-bold">Rp 0 Juta</span>
                            </div>
                            <p class="text-xs text-slate-500">Dari 456 kontributor bulan ini</p>
                        </div>
                    </div>
                </div>

                <!-- Daily Quote -->
                <div class="quote-card slide-up" style="animation-delay: 0.8s;">
                    <div class="flex items-start gap-3">
                        <div class="w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-quote-left text-amber-600"></i>
                        </div>
                        <div>
                            <p id="daily-quote" class="text-slate-700 font-medium italic">"Barangsiapa yang menghidupkan
                                bulan Ramadan dengan iman dan mengharap pahala, maka diampunilah dosa-dosanya yang telah
                                lalu."</p>
                            <p id="quote-source" class="text-sm text-slate-500 mt-2 font-semibold">- HR. Bukhari &
                                Muslim
                            </p>
                        </div>
                    </div>
                </div>

                <!-- ✨ NEW: Interactive Ramadan Vibe Card -->
                <div class="glass-card p-6 slide-up relative overflow-hidden" style="animation-delay: 0.85s;"
                    id="vibe-card">
                    <!-- animated sparkle bg -->
                    <div class="absolute inset-0 opacity-10 pointer-events-none" id="vibe-sparkle-bg"
                        style="background: radial-gradient(ellipse at 30% 50%, #fbbf24 0%, transparent 60%), radial-gradient(ellipse at 70% 50%, #f43f5e 0%, transparent 60%);">
                    </div>

                    <div class="flex items-center justify-between mb-4 relative z-10">
                        <h3 class="font-bold text-slate-700 flex items-center gap-2">
                            <i class="fas fa-star text-amber-400 animate-pulse"></i>
                            Vibe Ramadan Hari Ini
                        </h3>
                        <span id="vibe-date-label" class="text-xs text-slate-400 font-medium"></span>
                    </div>

                    <!-- Vibe selector -->
                    <div class="flex gap-2 justify-center mb-5 relative z-10" id="vibe-buttons">
                        <button onclick="selectVibe('🌟','Semangat Membara','from-amber-400 to-orange-500')"
                            class="vibe-btn flex flex-col items-center gap-1 p-3 rounded-2xl hover:scale-110 transition-all duration-200 cursor-pointer"
                            data-vibe="semangat" title="Semangat">
                            <span class="text-3xl">🌟</span>
                            <span class="text-[10px] font-bold text-slate-500">Semangat</span>
                        </button>
                        <button onclick="selectVibe('🤲','Khusyuk & Damai','from-emerald-400 to-teal-500')"
                            class="vibe-btn flex flex-col items-center gap-1 p-3 rounded-2xl hover:scale-110 transition-all duration-200 cursor-pointer"
                            data-vibe="khusyuk" title="Khusyuk">
                            <span class="text-3xl">🤲</span>
                            <span class="text-[10px] font-bold text-slate-500">Khusyuk</span>
                        </button>
                        <button onclick="selectVibe('💪','Kuat Berpuasa','from-blue-400 to-indigo-500')"
                            class="vibe-btn flex flex-col items-center gap-1 p-3 rounded-2xl hover:scale-110 transition-all duration-200 cursor-pointer"
                            data-vibe="kuat" title="Kuat">
                            <span class="text-3xl">💪</span>
                            <span class="text-[10px] font-bold text-slate-500">Kuat</span>
                        </button>
                        <button onclick="selectVibe('😴','Mengantuk Nih','from-violet-400 to-purple-500')"
                            class="vibe-btn flex flex-col items-center gap-1 p-3 rounded-2xl hover:scale-110 transition-all duration-200 cursor-pointer"
                            data-vibe="ngantuk" title="Mengantuk">
                            <span class="text-3xl">😴</span>
                            <span class="text-[10px] font-bold text-slate-500">Ngantuk</span>
                        </button>
                        <button onclick="selectVibe('🙏','Penuh Syukur','from-rose-400 to-pink-500')"
                            class="vibe-btn flex flex-col items-center gap-1 p-3 rounded-2xl hover:scale-110 transition-all duration-200 cursor-pointer"
                            data-vibe="syukur" title="Syukur">
                            <span class="text-3xl">🙏</span>
                            <span class="text-[10px] font-bold text-slate-500">Syukur</span>
                        </button>
                    </div>

                    <!-- Vibe result display -->
                    <div id="vibe-result" class="hidden relative z-10">
                        <div id="vibe-result-inner"
                            class="rounded-2xl p-4 text-center bg-gradient-to-r from-amber-400 to-orange-500 text-white">
                            <p id="vibe-emoji" class="text-4xl mb-2">🌟</p>
                            <p id="vibe-label" class="font-black text-lg">Semangat Membara!</p>
                            <p id="vibe-msg" class="text-sm opacity-90 mt-1">MasyaAllah, semangat kamu menginspirasi!
                            </p>
                        </div>
                        <button onclick="resetVibe()"
                            class="w-full mt-3 text-xs text-slate-400 hover:text-amber-500 transition-colors font-semibold"><i
                                class="fas fa-redo mr-1"></i>Pilih Lagi</button>
                    </div>

                    <!-- Tip of the moment -->
                    <div id="vibe-tip" class="mt-4 p-3 bg-slate-50 rounded-xl relative z-10">
                        <p class="text-xs text-slate-500"><i class="fas fa-lightbulb text-amber-400 mr-1"></i><span
                                id="vibe-tip-text">Klik vibe kamu hari ini untuk mendapat pesan khusus! ✨</span></p>
                    </div>
                </div>

                <!-- ✨ NEW: Ramadan Spin Wheel / Tantangan Acak -->
                <div class="glass-card p-6 slide-up relative overflow-hidden" style="animation-delay: 0.9s;">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-bold text-slate-700 flex items-center gap-2">
                            <i class="fas fa-dice text-violet-500"></i>
                            Tantangan Hari Ini
                        </h3>
                        <span class="text-xs bg-violet-100 text-violet-600 font-bold px-2 py-1 rounded-full">Acak</span>
                    </div>
                    <div id="challenge-display" class="text-center py-4">
                        <div class="text-5xl mb-3" id="challenge-icon">🎯</div>
                        <p id="challenge-text" class="font-bold text-slate-700 text-base mb-1">Tekan untuk mendapat
                            tantangan!</p>
                        <p id="challenge-desc" class="text-xs text-slate-500">Tantangan ibadah ringan khusus hari ini.
                        </p>
                    </div>
                    <button onclick="spinChallenge()" id="spin-btn"
                        class="w-full py-3 bg-gradient-to-r from-violet-500 to-purple-500 text-white font-bold rounded-2xl hover:shadow-lg hover:scale-105 transition-all relative overflow-hidden">
                        <span class="relative z-10"><i class="fas fa-random mr-2"></i>Acak Tantangan</span>
                    </button>
                    <div id="challenge-done-area" class="mt-3 hidden">
                        <button onclick="markChallengeDone()"
                            class="w-full py-2 bg-emerald-500 text-white font-bold rounded-xl text-sm hover:bg-emerald-600 transition-all">
                            <i class="fas fa-check mr-2"></i>Tandai Selesai!
                        </button>
                    </div>
                    <p id="challenge-status" class="text-center text-xs text-emerald-500 font-bold mt-2"></p>
                </div>

                <!-- Personalized Plan -->
                <div class="glass-card p-6 slide-up" style="animation-delay: 0.9s;">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fas fa-tasks text-violet-500"></i>
                        Rencana Ibadah Harian
                    </h3>
                    <div id="daily-plan-list" class="space-y-3">
                        <!-- Daily plan items will be rendered here -->
                    </div>
                </div>
            </section>

            <!-- ARTICLES SECTION -->
            <section id="section-articles" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fas fa-newspaper text-teal-500"></i>
                        Artikel & Berita Islami
                    </h3>
                    <div id="article-list" class="space-y-4">
                        <!-- Articles will be rendered here -->
                    </div>
                </div>
            </section>

            <!-- QURAN SECTION -->
            <section id="section-quran" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fas fa-book-quran text-emerald-500"></i>
                        Target Baca Quran
                    </h3>
                    <div class="flex items-center gap-4 mb-6">
                        <div class="relative">
                            <svg class="progress-ring w-24 h-24">
                                <circle cx="48" cy="48" r="44" stroke="#e2e8f0" stroke-width="6" fill="transparent" />
                                <circle id="quran-ring" cx="48" cy="48" r="44" stroke="#2d8a6e" stroke-width="6"
                                    fill="transparent" stroke-dasharray="276.46" stroke-dashoffset="276.46"
                                    stroke-linecap="round" class="progress-ring-circle" />
                            </svg>
                            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center">
                                <span id="quran-juz" class="text-xl font-black text-slate-800">0</span>
                                <p class="text-[10px] text-slate-500">Juz</p>
                            </div>
                        </div>
                        <div class="flex-1">
                            <p class="text-sm text-slate-500 mb-2">Hari ini</p>
                            <input type="number" id="quran-pages-input" placeholder="Halaman dibaca"
                                class="input-luxury mb-2" min="0" max="604">
                            <button onclick="addQuranPages()" class="btn-secondary w-full text-sm">Tambah
                                Progress</button>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4 text-center">
                        <div class="bg-emerald-50 rounded-2xl p-4">
                            <p id="quran-total-pages" class="text-2xl font-black text-emerald-600">0</p>
                            <p class="text-xs text-slate-500">Total Halaman</p>
                        </div>
                        <div class="bg-amber-50 rounded-2xl p-4">
                            <p id="quran-khatam-percent" class="text-2xl font-black text-amber-600">0%</p>
                            <p class="text-xs text-slate-500">Menuju Khatam</p>
                        </div>
                    </div>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Bookmark Surat</h3>
                    <div id="quran-bookmarks" class="space-y-3">
                        <!-- Bookmarks rendered here -->
                    </div>
                    <button onclick="addQuranBookmark()"
                        class="w-full mt-4 py-3 border-2 border-dashed border-slate-300 rounded-xl text-slate-500 font-semibold hover:border-amber-400 hover:text-amber-600 transition-all">
                        <i class="fas fa-plus mr-2"></i> Tambah Bookmark
                    </button>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Ayat Favorit</h3>
                    <div id="favorite-verses" class="space-y-3">
                        <!-- Favorite verses here -->
                    </div>
                </div>
            </section>

            <!-- DZIKIR SECTION -->
            <section id="section-dzikir" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-8 text-center">
                    <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-6">Tasbih Digital</h3>
                    <div class="relative inline-block mb-8">
                        <svg class="w-44 h-44 transform -rotate-90">
                            <circle cx="88" cy="88" r="82" stroke="#e2e8f0" stroke-width="8" fill="transparent" />
                            <circle id="tasbih-circle" cx="88" cy="88" r="82" stroke="#2d8a6e" stroke-width="8"
                                fill="transparent" stroke-dasharray="515.22" stroke-dashoffset="515.22"
                                stroke-linecap="round" class="transition-all duration-300" />
                        </svg>
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center">
                            <div id="tasbih-val" class="text-4xl font-black text-slate-800">0</div>
                            <div class="text-sm text-slate-500" id="tasbih-round">Ronde 1</div>
                        </div>
                    </div>
                    <div class="flex gap-4 justify-center items-center">
                        <button onclick="resetTasbih()" title="Reset Hitungan"
                            class="w-16 h-16 glass-card text-slate-500 rounded-2xl text-xl hover:bg-slate-100 transition-all">
                            <i class="fas fa-rotate-left"></i>
                        </button>
                        <button onclick="actionTasbih()" class="tasbih-btn">
                            <span class="relative z-10">TAP</span>
                        </button>
                        <button onclick="setTasbihTarget()" title="Atur Target Dzikir"
                            class="w-16 h-16 glass-card text-slate-500 rounded-2xl text-xl hover:bg-slate-100 transition-all">
                            <i class="fas fa-bullseye"></i>
                        </button>
                    </div>
                    <div class="mt-6 flex justify-center gap-3">
                        <button onclick="setDzikirType('subhanallah')" class="tab-pill active"
                            id="dzikir-subhanallah">Subhanallah (33x)</button>
                        <button onclick="setDzikirType('alhamdulillah')" class="tab-pill"
                            id="dzikir-alhamdulillah">Alhamdulillah (33x)</button>
                        <button onclick="setDzikirType('allahuakbar')" class="tab-pill"
                            id="dzikir-allahuakbar">Allahuakbar
                            (33x)</button>
                    </div>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Statistik Dzikir</h3>
                    <div class="grid grid-cols-3 gap-4 text-center">
                        <div class="bg-emerald-50 rounded-2xl p-4">
                            <p id="dzikir-total" class="text-2xl font-black text-emerald-600">0</p>
                            <p class="text-xs text-slate-500">Total Dzikir</p>
                        </div>
                        <div class="bg-amber-50 rounded-2xl p-4">
                            <p id="dzikir-rounds" class="text-2xl font-black text-amber-600">0</p>
                            <p class="text-xs text-slate-500">Ronde Selesai</p>
                        </div>
                        <div class="bg-rose-50 rounded-2xl p-4">
                            <p id="dzikir-streak" class="text-2xl font-black text-rose-600">0</p>
                            <p class="text-xs text-slate-500">Hari Berturut</p>
                        </div>
                    </div>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Dzikir Pagi & Sore</h3>
                    <div class="space-y-3" id="dzikir-list">
                        <!-- Dzikir list rendered here -->
                    </div>
                </div>
            </section>

            <!-- JOURNAL SECTION -->
            <section id="section-journal" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold text-slate-700">Journal Ramadan</h3>
                        <button onclick="openJournalModal()" class="btn-secondary text-sm py-2 px-4">
                            <i class="fas fa-plus mr-1"></i> Tulis
                        </button>
                    </div>
                    <div id="journal-entries" class="space-y-4 max-h-[400px] overflow-y-auto custom-scroll">
                        <!-- Journal entries rendered here -->
                    </div>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Refleksi Harian</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="text-sm font-semibold text-slate-600 mb-2 block">Bagaimana puasamu hari
                                ini?</label>
                            <div class="flex gap-2">
                                <button onclick="setMood('sangat-baik')"
                                    class="mood-btn flex-1 py-3 glass-card text-center rounded-xl hover:bg-amber-50 transition-all"
                                    data-mood="sangat-baik">
                                    <span class="text-2xl">😊</span>
                                    <p class="text-xs mt-1">Sangat Baik</p>
                                </button>
                                <button onclick="setMood('baik')"
                                    class="mood-btn flex-1 py-3 glass-card text-center rounded-xl hover:bg-amber-50 transition-all"
                                    data-mood="baik">
                                    <span class="text-2xl">🙂</span>
                                    <p class="text-xs mt-1">Baik</p>
                                </button>
                                <button onclick="setMood('biasa')"
                                    class="mood-btn flex-1 py-3 glass-card text-center rounded-xl hover:bg-amber-50 transition-all"
                                    data-mood="biasa">
                                    <span class="text-2xl">😐</span>
                                    <p class="text-xs mt-1">Biasa</p>
                                </button>
                                <button onclick="setMood('kurang')"
                                    class="mood-btn flex-1 py-3 glass-card text-center rounded-xl hover:bg-amber-50 transition-all"
                                    data-mood="kurang">
                                    <span class="text-2xl">😔</span>
                                    <p class="text-xs mt-1">Kurang</p>
                                </button>
                            </div>
                        </div>
                        <div>
                            <label class="text-sm font-semibold text-slate-600 mb-2 block">Catatan Hari Ini</label>
                            <textarea id="reflection-note" class="input-luxury h-24 resize-none"
                                placeholder="Tulis refleksimu..."></textarea>
                        </div>
                        <button onclick="saveReflection()" class="btn-primary w-full">Simpan Refleksi</button>
                    </div>
                </div>
            </section>

            <!-- ACHIEVEMENTS SECTION -->
            <section id="section-achievements" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <h3 class="font-bold text-slate-700 mb-2">Pencapaian</h3>
                    <p class="text-sm text-slate-500 mb-6">Kumpulkan badge dengan menyelesaikan tantangan</p>
                    <div id="achievements-grid" class="grid grid-cols-4 gap-4">
                        <!-- Achievements rendered here -->
                    </div>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Level & XP</h3>
                    <div class="flex items-center gap-4 mb-4">
                        <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-amber-400 to-amber-500 flex items-center justify-center text-white text-2xl font-black"
                            id="user-level">
                            1
                        </div>
                        <div class="flex-1">
                            <div class="flex justify-between text-sm mb-1">
                                <span class="font-semibold text-slate-700">Level <span id="level-num">1</span></span>
                                <span class="text-slate-500"><span id="current-xp">0</span>/<span
                                        id="next-xp">100</span>
                                    XP</span>
                            </div>
                            <div class="h-3 bg-slate-200 rounded-full overflow-hidden">
                                <div id="xp-bar"
                                    class="h-full bg-gradient-to-r from-amber-400 to-amber-500 rounded-full transition-all duration-500"
                                    style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    <div class="text-sm text-slate-500">
                        <i class="fas fa-star text-amber-400 mr-1"></i>
                        Selesaikan target untuk mendapatkan XP
                    </div>
                </div>
            </section>

            <!-- TRACKER SECTION -->
            <section id="section-tracker" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fas fa-bullseye text-amber-500"></i>
                        Target Ibadah Hari Ini
                    </h3>
                    <div class="space-y-3" id="target-list">
                        <!-- Targets rendered here -->
                    </div>
                    <button onclick="saveTargets()"
                        class="w-full mt-6 py-4 bg-gradient-to-r from-emerald-400 to-emerald-500 text-white rounded-2xl font-bold hover:shadow-lg transition-all">
                        <i class="fas fa-check mr-2"></i> Simpan Progress
                    </button>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Riwayat Target</h3>
                    <div class="chart-container">
                        <canvas id="target-chart"></canvas>
                    </div>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Kalender Puasa</h3>
                    <div id="fasting-calendar" class="grid grid-cols-7 gap-2">
                        <!-- Calendar rendered here -->
                    </div>
                </div>
            </section>

            <!-- TOOLS SECTION -->
            <section id="section-tools" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fas fa-calculator text-amber-500"></i>
                        Kalkulator Zakat
                    </h3>
                    <div class="space-y-4">
                        <div>
                            <label class="text-sm font-semibold text-slate-600 mb-2 block">Total Kekayaan (Rp)</label>
                            <input type="number" id="zakat-input" placeholder="Contoh: 100000000" class="input-luxury">
                        </div>
                        <div id="zakat-result" class="bg-amber-50 rounded-2xl p-4 hidden">
                            <p class="text-sm text-slate-600 mb-1">Zakat yang harus dibayar:</p>
                            <p id="zakat-amount" class="text-2xl font-black text-amber-600">Rp 0</p>
                        </div>
                        <div id="nisab-info" class="text-xs text-slate-500 bg-slate-50 rounded-xl p-3">
                            <p><strong>Nisab:</strong> Setara 85 gram emas</p>
                            <p><strong>Kadar Zakat:</strong> 2,5% dari harta</p>
                        </div>
                    </div>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fas fa-droplet text-blue-500"></i>
                        Tracker Minum Air
                    </h3>
                    <div class="flex justify-between items-center mb-4">
                        <div>
                            <p class="text-sm text-slate-500">Target Harian</p>
                            <p class="text-2xl font-black text-blue-600" id="water-ml">0 ml</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm text-slate-500">Progress</p>
                            <p class="text-2xl font-black text-blue-600" id="water-count">0/8</p>
                        </div>
                    </div>
                    <div class="flex justify-center gap-2 flex-wrap" id="water-drops">
                        <!-- Water drops will be rendered here -->
                    </div>
                    <p class="text-xs text-slate-500 text-center mt-4">Klik untuk menandai gelas yang sudah diminum</p>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fas fa-moon text-indigo-500"></i>
                        Tracker Tidur
                    </h3>
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="text-sm font-semibold text-slate-600 mb-2 block">Tidur</label>
                            <input type="time" id="sleep-start" title="Waktu Mulai Tidur" class="input-luxury"
                                value="22:00">
                        </div>
                        <div>
                            <label class="text-sm font-semibold text-slate-600 mb-2 block">Bangun</label>
                            <input type="time" id="sleep-end" title="Waktu Bangun Tidur" class="input-luxury"
                                value="04:00">
                        </div>
                    </div>
                    <button onclick="calculateSleep()" class="btn-secondary w-full">Hitung Durasi Tidur</button>
                    <div id="sleep-result" class="mt-4 text-center hidden">
                        <p class="text-3xl font-black text-indigo-600" id="sleep-hours">0</p>
                        <p class="text-sm text-slate-500">jam tidur</p>
                    </div>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fas fa-heart text-rose-500"></i>
                        Sedekah Tracker
                    </h3>
                    <div class="flex gap-3 mb-4">
                        <input type="number" id="sedekah-amount" placeholder="Jumlah (Rp)" class="input-luxury flex-1">
                        <button onclick="addSedekah()" class="btn-primary py-3 px-6">Tambah</button>
                    </div>
                    <div class="bg-rose-50 rounded-2xl p-4">
                        <p class="text-sm text-slate-600 mb-1">Total Sedekah Ramadan:</p>
                        <p id="total-sedekah" class="text-2xl font-black text-rose-600">Rp 0</p>
                    </div>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fas fa-utensils text-orange-500"></i>
                        Menu Sahur & Buka
                    </h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="text-sm font-semibold text-slate-600 mb-2 block">Menu Sahur</label>
                            <textarea id="menu-sahur" class="input-luxury h-20 resize-none text-sm"
                                placeholder="Menu sahur hari ini..."></textarea>
                        </div>
                        <div>
                            <label class="text-sm font-semibold text-slate-600 mb-2 block">Menu Buka</label>
                            <textarea id="menu-buka" class="input-luxury h-20 resize-none text-sm"
                                placeholder="Menu buka hari ini..."></textarea>
                        </div>
                    </div>
                    <button onclick="saveMenu()" class="btn-secondary w-full mt-4">Simpan Menu</button>
                </div>
            </section>

            <!-- STATISTICS SECTION -->
            <section id="section-stats" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Statistik Ibadah</h3>
                    <div class="flex gap-2 mb-6">
                        <button onclick="setStatsPeriod('week')" class="tab-pill active" id="stats-week">Minggu
                            Ini</button>
                        <button onclick="setStatsPeriod('month')" class="tab-pill" id="stats-month">Bulan Ini</button>
                        <button onclick="setStatsPeriod('all')" class="tab-pill" id="stats-all">Semua</button>
                    </div>
                    <div class="chart-container mb-6">
                        <canvas id="main-stats-chart"></canvas>
                    </div>
                    <div class="grid grid-cols-3 gap-4 text-center">
                        <div class="bg-emerald-50 rounded-2xl p-4">
                            <p id="stat-prayers" class="text-2xl font-black text-emerald-600">0</p>
                            <p class="text-xs text-slate-500">Sholat Tepat Waktu</p>
                        </div>
                        <div class="bg-amber-50 rounded-2xl p-4">
                            <p id="stat-quran" class="text-2xl font-black text-amber-600">0</p>
                            <p class="text-xs text-slate-500">Halaman Quran</p>
                        </div>
                        <div class="bg-rose-50 rounded-2xl p-4">
                            <p id="stat-streak" class="text-2xl font-black text-rose-600">0</p>
                            <p class="text-xs text-slate-500">Hari Streak</p>
                        </div>
                    </div>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Grafik Mood</h3>
                    <div class="chart-container">
                        <canvas id="mood-chart"></canvas>
                    </div>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Progress Mingguan</h3>
                    <div class="chart-container">
                        <canvas id="weekly-chart"></canvas>
                    </div>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Ringkasan Ramadan</h3>
                    <div class="space-y-4" id="ramadan-summary">
                        <!-- Summary cards -->
                    </div>
                </div>
            </section>

            <!-- QIBLA SECTION -->
            <section id="section-qibla" class="hidden-section space-y-6">

                <!-- Main Compass Card -->
                <div class="qibla-main-card relative overflow-hidden rounded-3xl p-6">
                    <!-- Animated BG -->
                    <div class="absolute inset-0"
                        style="background: linear-gradient(135deg, #1e1b4b 0%, #312e81 40%, #1e3a5f 100%);"></div>
                    <div class="absolute top-0 right-0 w-64 h-64 rounded-full opacity-10"
                        style="background: radial-gradient(circle, #818cf8, transparent); transform: translate(30%, -30%);">
                    </div>
                    <div class="absolute bottom-0 left-0 w-48 h-48 rounded-full opacity-10"
                        style="background: radial-gradient(circle, #34d399, transparent); transform: translate(-30%, 30%);">
                    </div>

                    <!-- Stars background dots -->
                    <div class="qibla-stars"></div>

                    <div class="relative z-10">
                        <!-- Header -->
                        <div class="flex items-center justify-between mb-6">
                            <div>
                                <p class="text-xs font-bold text-indigo-300 uppercase tracking-widest mb-1">🕌 Penjuru
                                    Kiblat</p>
                                <h3 class="text-xl font-black text-white">Arah Kiblat</h3>
                            </div>
                            <div class="w-12 h-12 rounded-2xl flex items-center justify-center"
                                style="background: rgba(255,255,255,0.1); backdrop-filter: blur(8px);">
                                <i class="fas fa-kaaba text-amber-400 text-xl"></i>
                            </div>
                        </div>

                        <!-- SVG Compass -->
                        <div class="flex justify-center mb-6" id="compass-wrapper">
                            <div class="compass-outer-ring">
                                <!-- Outer decorative ring -->
                                <svg class="compass-svg" viewBox="0 0 280 280" xmlns="http://www.w3.org/2000/svg">
                                    <defs>
                                        <linearGradient id="compassGold" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#fbbf24;stop-opacity:1" />
                                            <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
                                        </linearGradient>
                                        <linearGradient id="compassRed" x1="0%" y1="0%" x2="0%" y2="100%">
                                            <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
                                            <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
                                        </linearGradient>
                                        <linearGradient id="compassBlue" x1="0%" y1="100%" x2="0%" y2="0%">
                                            <stop offset="0%" style="stop-color:#60a5fa;stop-opacity:0.8" />
                                            <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:0.5" />
                                        </linearGradient>
                                        <filter id="glowEffect">
                                            <feGaussianBlur stdDeviation="3" result="coloredBlur" />
                                            <feMerge>
                                                <feMergeNode in="coloredBlur" />
                                                <feMergeNode in="SourceGraphic" />
                                            </feMerge>
                                        </filter>
                                        <filter id="kaabaGlow">
                                            <feGaussianBlur stdDeviation="4" result="coloredBlur" />
                                            <feMerge>
                                                <feMergeNode in="coloredBlur" />
                                                <feMergeNode in="SourceGraphic" />
                                            </feMerge>
                                        </filter>
                                    </defs>

                                    <!-- Outer decorative circle -->
                                    <circle cx="140" cy="140" r="135" fill="none" stroke="rgba(255,255,255,0.06)"
                                        stroke-width="1" />
                                    <circle cx="140" cy="140" r="125" fill="rgba(255,255,255,0.03)"
                                        stroke="rgba(255,255,255,0.1)" stroke-width="1" />

                                    <!-- Tick marks -->
                                    <g id="compass-ticks">
                                        <!-- Major ticks (every 45°) -->
                                        <line x1="140" y1="18" x2="140" y2="34" stroke="rgba(255,255,255,0.5)"
                                            stroke-width="2" transform="rotate(0,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="34" stroke="rgba(255,255,255,0.5)"
                                            stroke-width="2" transform="rotate(45,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="34" stroke="rgba(255,255,255,0.5)"
                                            stroke-width="2" transform="rotate(90,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="34" stroke="rgba(255,255,255,0.5)"
                                            stroke-width="2" transform="rotate(135,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="34" stroke="rgba(255,255,255,0.5)"
                                            stroke-width="2" transform="rotate(180,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="34" stroke="rgba(255,255,255,0.5)"
                                            stroke-width="2" transform="rotate(225,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="34" stroke="rgba(255,255,255,0.5)"
                                            stroke-width="2" transform="rotate(270,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="34" stroke="rgba(255,255,255,0.5)"
                                            stroke-width="2" transform="rotate(315,140,140)" />
                                        <!-- Minor ticks (every 15°) -->
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(15,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(30,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(60,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(75,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(105,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(120,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(150,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(165,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(195,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(210,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(240,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(255,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(285,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(300,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(330,140,140)" />
                                        <line x1="140" y1="18" x2="140" y2="26" stroke="rgba(255,255,255,0.2)"
                                            stroke-width="1" transform="rotate(345,140,140)" />
                                    </g>

                                    <!-- Cardinal labels - rotate with compass dial -->
                                    <g id="compass-dial-group" style="transform-origin: 140px 140px;">
                                        <text x="140" y="52" text-anchor="middle" fill="#ef4444" font-size="16"
                                            font-weight="900" font-family="Plus Jakarta Sans, sans-serif"
                                            filter="url(#glowEffect)">U</text>
                                        <text x="228" y="147" text-anchor="middle" fill="rgba(255,255,255,0.7)"
                                            font-size="13" font-weight="700"
                                            font-family="Plus Jakarta Sans, sans-serif">T</text>
                                        <text x="140" y="242" text-anchor="middle" fill="rgba(255,255,255,0.7)"
                                            font-size="13" font-weight="700"
                                            font-family="Plus Jakarta Sans, sans-serif">S</text>
                                        <text x="52" y="147" text-anchor="middle" fill="rgba(255,255,255,0.7)"
                                            font-size="13" font-weight="700"
                                            font-family="Plus Jakarta Sans, sans-serif">B</text>
                                    </g>

                                    <!-- Inner circle (compass face) -->
                                    <circle cx="140" cy="140" r="95" fill="rgba(15,15,40,0.8)"
                                        stroke="rgba(255,255,255,0.08)" stroke-width="1" />

                                    <!-- Inner ring glow -->
                                    <circle cx="140" cy="140" r="94" fill="none" stroke="url(#compassGold)"
                                        stroke-width="0.5" opacity="0.4" />

                                    <!-- Compass Rose Cross lines -->
                                    <line x1="140" y1="55" x2="140" y2="225" stroke="rgba(255,255,255,0.05)"
                                        stroke-width="1" />
                                    <line x1="55" y1="140" x2="225" y2="140" stroke="rgba(255,255,255,0.05)"
                                        stroke-width="1" />

                                    <!-- Main Needle (North = Red, South = Blue) -->
                                    <!-- This group will be rotated by JS based on qibla angle -->
                                    <g id="compass-needle" style="transform-origin: 140px 140px;">
                                        <!-- North (red arrow) -->
                                        <polygon points="140,68 133,140 140,130 147,140" fill="url(#compassRed)"
                                            filter="url(#glowEffect)" />
                                        <!-- South (white/muted arrow) -->
                                        <polygon points="140,212 133,140 140,150 147,140"
                                            fill="rgba(148,163,184,0.6)" />
                                        <!-- Center dot -->
                                        <circle cx="140" cy="140" r="8" fill="url(#compassGold)"
                                            stroke="rgba(255,255,255,0.3)" stroke-width="1.5" />
                                        <circle cx="140" cy="140" r="3" fill="white" />
                                    </g>

                                    <!-- Kiblat Indicator Arrow (Gold) -->
                                    <g id="qibla-needle" style="transform-origin: 140px 140px; display:none;">
                                        <polygon points="140,52 132,140 140,120 148,140" fill="url(#compassGold)"
                                            filter="url(#kaabaGlow)" opacity="0.9" />
                                        <circle cx="140" cy="140" r="6" fill="#fbbf24" />
                                    </g>

                                    <!-- Kaaba icon at center -->
                                    <text x="140" y="146" text-anchor="middle" font-size="18"
                                        fill="rgba(255,255,255,0.2)">🕋</text>
                                </svg>
                            </div>
                        </div>

                        <!-- Status text -->
                        <div class="text-center mb-5">
                            <p id="qibla-direction-text" class="text-lg font-black text-white mb-1">Mencari lokasi...
                            </p>
                            <p id="qibla-degree" class="text-sm font-semibold" style="color: rgba(251,191,36,0.9);"></p>
                        </div>

                        <!-- Alignment indicator -->
                        <div id="qibla-alignment-bar" class="qibla-align-bar mb-5 hidden">
                            <div class="flex items-center gap-3 p-3 rounded-2xl"
                                style="background: rgba(255,255,255,0.06);">
                                <div id="qibla-align-dot"
                                    class="w-3 h-3 rounded-full bg-slate-500 transition-all duration-300"></div>
                                <div class="flex-1 h-1.5 rounded-full overflow-hidden"
                                    style="background: rgba(255,255,255,0.1);">
                                    <div id="qibla-align-fill" class="h-full rounded-full transition-all duration-500"
                                        style="background: linear-gradient(90deg, #ef4444, #fbbf24, #34d399); width: 0%;">
                                    </div>
                                </div>
                                <span id="qibla-align-text" class="text-xs font-bold text-slate-400">Memutar...</span>
                            </div>
                        </div>

                        <!-- Action button -->
                        <button onclick="getQiblaDirection()" id="qibla-btn"
                            class="w-full py-3.5 rounded-2xl font-bold text-sm transition-all duration-300"
                            style="background: linear-gradient(135deg, #fbbf24, #f59e0b); color: #1e1b4b; box-shadow: 0 8px 24px rgba(251,191,36,0.3);">
                            <i class="fas fa-location-arrow mr-2"></i> Deteksi Lokasi & Arah Kiblat
                        </button>
                    </div>
                </div>

                <!-- Info Cards -->
                <div class="grid grid-cols-2 gap-3">
                    <div class="glass-card p-4 text-center">
                        <div class="w-10 h-10 rounded-2xl mx-auto mb-2 flex items-center justify-center"
                            style="background: linear-gradient(135deg, #fbbf24, #f59e0b);">
                            <i class="fas fa-compass text-white"></i>
                        </div>
                        <p class="text-xs font-bold text-slate-600 uppercase tracking-wider mb-1">Ka'bah</p>
                        <p class="text-base font-black text-slate-800">21.4°N</p>
                        <p class="text-xs text-slate-500">39.8°E</p>
                    </div>
                    <div class="glass-card p-4 text-center">
                        <div class="w-10 h-10 rounded-2xl mx-auto mb-2 flex items-center justify-center"
                            style="background: linear-gradient(135deg, #818cf8, #6366f1);">
                            <i class="fas fa-mosque text-white"></i>
                        </div>
                        <p class="text-xs font-bold text-slate-600 uppercase tracking-wider mb-1">Masjidil Haram</p>
                        <p class="text-base font-black text-slate-800">Makkah</p>
                        <p class="text-xs text-slate-500">Arab Saudi 🇸🇦</p>
                    </div>
                </div>

                <!-- Tips Card -->
                <div class="glass-card p-4">
                    <h4 class="font-bold text-slate-700 mb-3 flex items-center gap-2 text-sm">
                        <i class="fas fa-lightbulb text-amber-500"></i>
                        Tips Menggunakan Kompas Kiblat
                    </h4>
                    <div class="space-y-2">
                        <div class="flex items-start gap-2">
                            <span class="text-amber-500 text-xs mt-0.5">●</span>
                            <p class="text-xs text-slate-600">Jauhkan perangkat dari benda logam & magnet untuk akurasi
                                terbaik</p>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="text-amber-500 text-xs mt-0.5">●</span>
                            <p class="text-xs text-slate-600">Kalibrasi kompas dengan gerakan angka 8 di udara jika
                                tidak
                                akurat</p>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="text-amber-500 text-xs mt-0.5">●</span>
                            <p class="text-xs text-slate-600">Arah kiblat Medan ≈ <strong
                                    class="text-amber-600">292°</strong> (Barat Laut) dari Utara geografis</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- MORE FEATURES SECTION -->
            <section id="section-more" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Fitur Lainnya</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <button onclick="showTab('articles')"
                            class="glass-card p-4 text-left hover:scale-102 transition-transform">
                            <div
                                class="w-10 h-10 rounded-xl bg-gradient-to-br from-teal-400 to-teal-500 flex items-center justify-center text-white mb-2">
                                <i class="fas fa-newspaper"></i>
                            </div>
                            <p class="font-semibold text-sm">Artikel Islami</p>
                            <p class="text-xs text-slate-500">Bacaan harian</p>
                        </button>
                        <button onclick="showTab('dua')"
                            class="glass-card p-4 text-left hover:scale-102 transition-transform">
                            <div
                                class="w-10 h-10 rounded-xl bg-gradient-to-br from-purple-400 to-purple-500 flex items-center justify-center text-white mb-2">
                                <i class="fas fa-hands"></i>
                            </div>
                            <p class="font-semibold text-sm">Doa Harian</p>
                            <p class="text-xs text-slate-500">Kumpulan doa</p>
                        </button>
                        <button onclick="showTab('hadith')"
                            class="glass-card p-4 text-left hover:scale-102 transition-transform">
                            <div
                                class="w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-400 to-cyan-500 flex items-center justify-center text-white mb-2">
                                <i class="fas fa-scroll"></i>
                            </div>
                            <p class="font-semibold text-sm">Hadits Harian</p>
                            <p class="text-xs text-slate-500">Hadits pilihan</p>
                        </button>
                        <button onclick="showTab('qibla')"
                            class="glass-card p-4 text-left hover:scale-102 transition-transform">
                            <div
                                class="w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-400 to-indigo-500 flex items-center justify-center text-white mb-2">
                                <i class="fas fa-kaaba"></i>
                            </div>
                            <p class="font-semibold text-sm">Arah Kiblat</p>
                            <p class="text-xs text-slate-500">Kompas kiblat</p>
                        </button>
                        <button onclick="showTab('names')"
                            class="glass-card p-4 text-left hover:scale-102 transition-transform">
                            <div
                                class="w-10 h-10 rounded-xl bg-gradient-to-br from-rose-400 to-rose-500 flex items-center justify-center text-white mb-2">
                                <i class="fas fa-list-ol"></i>
                            </div>
                            <p class="font-semibold text-sm">Asmaul Husna</p>
                            <p class="text-xs text-slate-500">99 nama Allah</p>
                        </button>
                        <button onclick="showTab('last10')"
                            class="glass-card p-4 text-left hover:scale-102 transition-transform">
                            <div
                                class="w-10 h-10 rounded-xl bg-gradient-to-br from-amber-400 to-amber-500 flex items-center justify-center text-white mb-2">
                                <i class="fas fa-star"></i>
                            </div>
                            <p class="font-semibold text-sm">10 Malam Terakhir</p>
                            <p class="text-xs text-slate-500">Lailatul Qadr</p>
                        </button>
                        <button onclick="showTab('tarawih')"
                            class="glass-card p-4 text-left hover:scale-102 transition-transform">
                            <div
                                class="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-400 to-blue-500 flex items-center justify-center text-white mb-2">
                                <i class="fas fa-moon"></i>
                            </div>
                            <p class="font-semibold text-sm">Target Tarawih</p>
                            <p class="text-xs text-slate-500">Lacak rakaat</p>
                        </button>
                        <button onclick="showTab('about')"
                            class="glass-card p-4 text-left hover:scale-102 transition-transform">
                            <div
                                class="w-10 h-10 rounded-xl bg-gradient-to-br from-purple-400 to-indigo-500 flex items-center justify-center text-white mb-2">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <p class="font-semibold text-sm">Tentang Kami</p>
                            <p class="text-xs text-slate-500">Info Pengembang</p>
                        </button>
                    </div>
                </div>

                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Pengaturan Lanjutan</h3>
                    <div class="space-y-3">
                        <button onclick="exportData()"
                            class="w-full py-3 glass-card text-left px-4 rounded-xl hover:bg-slate-50 transition-all flex items-center justify-between">
                            <span class="font-medium text-sm">Export Data</span>
                            <i class="fas fa-download text-slate-400"></i>
                        </button>
                        <button onclick="importData()"
                            class="w-full py-3 glass-card text-left px-4 rounded-xl hover:bg-slate-50 transition-all flex items-center justify-between">
                            <span class="font-medium text-sm">Import Data</span>
                            <i class="fas fa-upload text-slate-400"></i>
                        </button>
                        <button onclick="resetAllData()"
                            class="w-full py-3 glass-card text-left px-4 rounded-xl hover:bg-rose-50 transition-all flex items-center justify-between text-rose-500">
                            <span class="font-medium text-sm">Reset Semua Data</span>
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            </section>

            <!-- ABOUT DEVELOPER SECTION -->
            <section id="section-about" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6 text-center">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center justify-center gap-2">
                        <i class="fas fa-heart text-rose-500"></i>
                        Tentang Pengembang
                    </h3>
                    <p class="text-slate-600 text-md mb-6 leading-relaxed">
                        Aplikasi "Ramadan Nexus Elite" adalah buah karya kolaborasi penuh dedikasi,
                        diciptakan dengan visi untuk memperkaya pengalaman ibadah dan spiritualitas Anda di bulan suci
                        Ramadan.
                        Kami percaya teknologi dapat menjadi jembatan menuju ketenangan dan produktivitas ibadah yang
                        lebih
                        baik.
                    </p>
                    <div class="flex items-center justify-center gap-4 mb-6">
                        <div
                            class="w-20 h-20 rounded-full bg-gradient-to-br from-amber-400 to-rose-400 flex items-center justify-center text-white text-3xl font-bold">
                            R_O
                        </div>
                        <div>
                            <p class="text-xl font-black text-gradient-gold">Raihan_official0307</p>
                            <p class="text-sm text-slate-500">Lead Developer & Visioner</p>
                        </div>
                    </div>
                    <div class="flex items-center justify-center gap-4 mb-6">
                        <div
                            class="w-20 h-20 rounded-full bg-gradient-to-br from-emerald-400 to-blue-400 flex items-center justify-center text-white text-3xl font-bold">
                            VCP
                        </div>
                        <div>
                            <p class="text-xl font-black text-gradient-emerald">Visualcodepo</p>
                            <p class="text-sm text-slate-500">UI/UX & Creative Director</p>
                        </div>
                    </div>
                    <p class="text-slate-600 text-md mb-6 leading-relaxed">
                        Punya ide brilian atau menemukan celah? Kami sangat menghargai masukan Anda!
                        Jangan ragu untuk berbagi pemikiran, saran, atau pertanyaan Anda.
                    </p>
                    <a href="https://talk.visualcodepo.my.id/" target="_blank" rel="noopener"
                        class="btn-primary inline-flex items-center">
                        <i class="fas fa-paper-plane mr-2"></i> Kirim Pesan kepada Kami
                    </a>
                </div>
            </section>

            <!-- DUA SECTION -->
            <section id="section-dua" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Doa Harian</h3>
                    <div class="space-y-4" id="dua-list">
                        <!-- Duas rendered here -->
                    </div>
                </div>
            </section>

            <!-- HADITH SECTION -->
            <section id="section-hadith" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Hadits Tentang Ramadan</h3>
                    <div class="space-y-4" id="hadith-list">
                        <!-- Hadiths rendered here -->
                    </div>
                </div>
            </section>

            <!-- NAMES OF ALLAH SECTION -->
            <section id="section-names" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Asmaul Husna</h3>
                    <div class="grid grid-cols-3 gap-3" id="asmaul-husna-grid">
                        <!-- Names rendered here -->
                    </div>
                </div>
            </section>

            <!-- LAST 10 NIGHTS SECTION -->
            <section id="section-last10" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <h3 class="font-bold text-slate-700 mb-4">10 Malam Terakhir</h3>
                    <p class="text-sm text-slate-500 mb-4">Cari Lailatul Qadr di malam-malam ganjil</p>
                    <div class="space-y-3" id="last10-nights">
                        <!-- Nights rendered here -->
                    </div>
                </div>
            </section>

            <!-- TARAWIH SECTION -->
            <section id="section-tarawih" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Target Tarawih</h3>
                    <div class="flex items-center gap-4 mb-6">
                        <div class="relative">
                            <svg class="progress-ring w-28 h-28">
                                <circle cx="56" cy="56" r="52" stroke="#e2e8f0" stroke-width="6" fill="transparent" />
                                <circle id="tarawih-ring" cx="56" cy="56" r="52" stroke="#3b82f6" stroke-width="6"
                                    fill="transparent" stroke-dasharray="326.73" stroke-dashoffset="326.73"
                                    stroke-linecap="round" class="progress-ring-circle" />
                            </svg>
                            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center">
                                <span id="tarawih-rakaat" class="text-xl font-black text-slate-800">0</span>
                                <p class="text-[10px] text-slate-500">Rakaat</p>
                            </div>
                        </div>
                        <div class="flex-1">
                            <p class="text-sm text-slate-500 mb-2">Rakaat hari ini</p>
                            <div class="flex gap-2">
                                <button onclick="addTarawih(-2)" title="Kurangi 2 Rakaat"
                                    class="w-10 h-10 glass-card rounded-xl text-slate-500">-2</button>
                                <button onclick="addTarawih(2)" class="flex-1 btn-secondary py-2">+2 Rakaat</button>
                                <button onclick="addTarawih(8)" title="Tambah 8 Rakaat"
                                    class="w-10 h-10 glass-card rounded-xl text-slate-500">+8</button>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4 text-center">
                        <div class="bg-blue-50 rounded-2xl p-4">
                            <p id="tarawih-total" class="text-2xl font-black text-blue-600">0</p>
                            <p class="text-xs text-slate-500">Total Rakaat</p>
                        </div>
                        <div class="bg-indigo-50 rounded-2xl p-4">
                            <p id="tarawih-days" class="text-2xl font-black text-indigo-600">0</p>
                            <p class="text-xs text-slate-500">Hari Tarawih</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- MONEY TRACKING SECTION - GOPAY STYLE -->
            <section id="section-money" class="hidden-section space-y-6">
                <!-- Balance Card - GoPay Style -->
                <div class="money-balance-card glass-card-strong p-0 relative overflow-hidden">
                    <div class="absolute inset-0 bg-gradient-to-br from-emerald-500 via-teal-500 to-cyan-500"></div>
                    <div
                        class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1vcGFjaXR5PSIwLjA1IiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-30">
                    </div>

                    <div class="relative z-10 p-6">
                        <div class="flex justify-between items-start mb-6">
                            <div>
                                <p class="text-white/80 text-sm font-semibold mb-1">Total Saldo</p>
                                <h3 id="money-balance" class="text-4xl font-black text-white mb-1">Rp 0</h3>
                                <p class="text-white/60 text-xs">Ramadan Finance</p>
                            </div>
                            <button onclick="toggleBalanceVisibility()"
                                class="w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/30 transition-colors">
                                <i id="balance-eye-icon" class="fas fa-eye"></i>
                            </button>
                        </div>

                        <div class="grid grid-cols-2 gap-3">
                            <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-3 border border-white/20">
                                <div class="flex items-center gap-2 mb-1">
                                    <i class="fas fa-arrow-down text-emerald-300 text-sm"></i>
                                    <span class="text-white/70 text-xs">Pemasukan</span>
                                </div>
                                <p id="money-income" class="text-white font-bold text-lg">Rp 0</p>
                            </div>
                            <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-3 border border-white/20">
                                <div class="flex items-center gap-2 mb-1">
                                    <i class="fas fa-arrow-up text-rose-300 text-sm"></i>
                                    <span class="text-white/70 text-xs">Pengeluaran</span>
                                </div>
                                <p id="money-expense" class="text-white font-bold text-lg">Rp 0</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="grid grid-cols-2 gap-3">
                    <button onclick="openAddMoneyModal('income')"
                        class="glass-card p-4 flex items-center gap-3 hover:scale-105 transition-transform">
                        <div
                            class="w-12 h-12 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center text-white">
                            <i class="fas fa-plus text-xl"></i>
                        </div>
                        <div class="text-left">
                            <p class="font-bold text-slate-700 text-sm">Tambah</p>
                            <p class="text-xs text-slate-500">Pemasukan</p>
                        </div>
                    </button>
                    <button onclick="openAddMoneyModal('expense')"
                        class="glass-card p-4 flex items-center gap-3 hover:scale-105 transition-transform">
                        <div
                            class="w-12 h-12 rounded-full bg-gradient-to-br from-rose-400 to-rose-600 flex items-center justify-center text-white">
                            <i class="fas fa-minus text-xl"></i>
                        </div>
                        <div class="text-left">
                            <p class="font-bold text-slate-700 text-sm">Tambah</p>
                            <p class="text-xs text-slate-500">Pengeluaran</p>
                        </div>
                    </button>
                </div>

                <!-- Statistics Charts -->
                <div class="glass-card p-6">
                    <h3 class="font-bold text-slate-700 mb-4 flex items-center gap-2">
                        <i class="fas fa-chart-pie text-violet-500"></i>
                        Statistik Keuangan
                    </h3>
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div class="text-center">
                            <canvas id="money-category-chart" class="max-h-40"></canvas>
                            <p class="text-xs text-slate-500 mt-2">Kategori Pengeluaran</p>
                        </div>
                        <div class="text-center">
                            <canvas id="money-trend-chart" class="max-h-40"></canvas>
                            <p class="text-xs text-slate-500 mt-2">Trend 7 Hari</p>
                        </div>
                    </div>
                </div>

                <!-- Transaction History -->
                <div class="glass-card p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold text-slate-700 flex items-center gap-2">
                            <i class="fas fa-history text-blue-500"></i>
                            Riwayat Transaksi
                        </h3>
                        <button onclick="clearAllTransactions()"
                            class="text-xs text-rose-500 hover:text-rose-600 font-semibold">
                            <i class="fas fa-trash-alt mr-1"></i>Hapus Semua
                        </button>
                    </div>
                    <div id="money-transactions" class="space-y-2 max-h-96 overflow-y-auto custom-scroll">
                        <div class="text-center text-slate-400 py-8">
                            <i class="fas fa-wallet text-4xl mb-2 opacity-50"></i>
                            <p class="text-sm">Belum ada transaksi</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- COMMUNITY SECTION -->
            <section id="section-community" class="hidden-section space-y-6">
                <div class="glass-card glass-card-strong p-6">
                    <h3 class="font-bold text-slate-700 mb-4">Target Komunitas</h3>
                    <div class="space-y-4">
                        <div class="bg-gradient-to-r from-emerald-50 to-teal-50 rounded-2xl p-4">
                            <div class="flex justify-between items-center mb-2">
                                <span class="font-semibold text-slate-700">Khatam Bersama</span>
                                <span class="text-sm text-emerald-600 font-bold">23% Selesai</span>
                            </div>
                            <div class="h-2 bg-white rounded-full overflow-hidden">
                                <div class="h-full bg-gradient-to-r from-emerald-400 to-teal-400 rounded-full"
                                    style="width: 23%"></div>
                            </div>
                            <p class="text-xs text-slate-500 mt-2">1,234 peserta sedang bersama-sama mengkhatamkan Quran
                            </p>
                        </div>
                        <div class="bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-4">
                            <div class="flex justify-between items-center mb-2">
                                <span class="font-semibold text-slate-700">Sedekah Terkumpul</span>
                                <span class="text-sm text-amber-600 font-bold">Rp 12.5 Juta</span>
                            </div>
                            <p class="text-xs text-slate-500">Dari 456 kontributor bulan ini</p>
                        </div>
                    </div>
                </div>
            </section>

        </main>


        <!-- Toast Notification -->
        <div id="toast" class="toast">
            <i id="toast-icon" class="fas fa-check-circle text-emerald-500 text-lg"></i>
            <span id="toast-message">Berhasil disimpan!</span>
        </div>



        <!-- Journal Modal -->
        <div id="journal-modal" class="modal-overlay">
            <div class="modal-content">
                <h3 class="font-bold text-lg mb-4">Tulis Journal</h3>
                <textarea id="journal-text" class="input-luxury h-32 resize-none mb-4"
                    placeholder="Bagaimana harimu?"></textarea>
                <div class="flex gap-3">
                    <button onclick="closeJournalModal()" class="flex-1 btn-secondary">Batal</button>
                    <button onclick="saveJournal()" class="flex-1 btn-primary">Simpan</button>
                </div>
            </div>
        </div>

        <!-- Settings Modal -->
        <div id="settings-modal" class="modal-overlay">
            <div class="modal-content">
                <h3 class="font-bold text-lg mb-4">Pengaturan</h3>
                <div class="space-y-4">
                    <div>
                        <label class="text-sm font-semibold text-slate-600 mb-2 block">Nama</label>
                        <input type="text" id="user-name" class="input-luxury" placeholder="Nama kamu">
                    </div>
                    <div>
                        <label class="text-sm font-semibold text-slate-600 mb-2 block">Lokasi</label>
                        <select id="user-location" class="input-luxury">
                            <option value="medan">Medan</option>
                            <option value="jakarta">Jakarta</option>
                            <option value="bandung">Bandung</option>
                            <option value="surabaya">Surabaya</option>
                            <option value="yogyakarta">Yogyakarta</option>
                        </select>
                    </div>
                    <div class="flex items-center justify-between py-2">
                        <span class="font-medium">Notifikasi Sholat</span>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="prayer-notification" class="sr-only peer" checked>
                            <div
                                class="w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500">
                            </div>
                        </label>
                    </div>
                    <div class="flex items-center justify-between py-2">
                        <span class="font-medium">Reminder Sahur</span>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="sahur-reminder" class="sr-only peer" checked>
                            <div
                                class="w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500">
                            </div>
                        </label>
                    </div>
                    <div class="flex items-center justify-between py-2">
                        <span class="font-medium">Mode Gelap</span>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="dark-mode-toggle" class="sr-only peer"
                                title="Aktifkan Mode Gelap">
                            <div
                                class="w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-slate-700">
                            </div>
                        </label>
                    </div>
                </div>
                <button onclick="saveSettings()" class="btn-primary w-full mt-6">Simpan Pengaturan</button>
                <button onclick="closeSettings()" class="btn-secondary w-full mt-3">Tutup</button>
            </div>
        </div>

        <!-- Quick Actions Modal -->
        <div id="quick-modal" class="modal-overlay">
            <div class="modal-content">
                <h3 class="font-bold text-lg mb-4">Aksi Cepat</h3>
                <div class="grid grid-cols-3 gap-3">
                    <button onclick="quickAction('quran-page')"
                        class="glass-card p-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform">
                        <i class="fas fa-book-quran text-emerald-500 text-xl"></i>
                        <span class="text-xs font-medium">+Quran</span>
                    </button>
                    <button onclick="quickAction('sedekah')"
                        class="glass-card p-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform">
                        <i class="fas fa-heart text-rose-500 text-xl"></i>
                        <span class="text-xs font-medium">+Sedekah</span>
                    </button>
                    <button onclick="quickAction('dzikir')"
                        class="glass-card p-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform">
                        <i class="fas fa-hands-praying text-amber-500 text-xl"></i>
                        <span class="text-xs font-medium">+Dzikir</span>
                    </button>
                    <button onclick="quickAction('water')"
                        class="glass-card p-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform">
                        <i class="fas fa-droplet text-blue-500 text-xl"></i>
                        <span class="text-xs font-medium">+Air</span>
                    </button>
                    <button onclick="quickAction('tarawih')"
                        class="glass-card p-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform">
                        <i class="fas fa-moon text-indigo-500 text-xl"></i>
                        <span class="text-xs font-medium">+Tarawih</span>
                    </button>
                    <button onclick="quickAction('journal')"
                        class="glass-card p-4 flex flex-col items-center gap-2 hover:scale-105 transition-transform">
                        <i class="fas fa-pen text-violet-500 text-xl"></i>
                        <span class="text-xs font-medium">+Journal</span>
                    </button>
                </div>
                <button onclick="closeQuickModal()" class="btn-secondary w-full mt-6">Tutup</button>
            </div>
        </div>


        <!-- Audio Adzan Player Modal -->
        <div id="adzan-player-modal" class="modal-overlay">
            <div class="modal-content max-w-md">
                <div class="text-center mb-6">
                    <div
                        class="w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center">
                        <i class="fas fa-mosque text-white text-3xl"></i>
                    </div>
                    <h2 class="text-2xl font-black text-gradient-emerald mb-2">Waktu Sholat</h2>
                    <p id="adzan-prayer-name" class="text-lg font-semibold text-slate-700">Dzuhur</p>
                    <p class="text-sm text-slate-500">Telah tiba waktunya untuk sholat</p>
                </div>

                <div class="glass-card p-6 mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-3">
                            <button id="adzan-play-btn" onclick="toggleAdzanPlay()"
                                class="w-12 h-12 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 text-white flex items-center justify-center hover:scale-110 transition-transform">
                                <i class="fas fa-play"></i>
                            </button>
                            <div>
                                <p class="text-sm font-semibold text-slate-700">Adzan Audio</p>
                                <p class="text-xs text-slate-500" id="adzan-status">Siap diputar</p>
                            </div>
                        </div>
                        <button onclick="stopAdzan()" class="text-slate-500 hover:text-rose-500 transition-colors">
                            <i class="fas fa-stop-circle text-2xl"></i>
                        </button>
                    </div>

                    <div class="relative h-2 bg-slate-200 rounded-full overflow-hidden">
                        <div id="adzan-progress"
                            class="h-full bg-gradient-to-r from-emerald-400 to-emerald-600 rounded-full transition-all"
                            style="width: 0%"></div>
                    </div>

                    <div class="flex justify-between items-center mt-2 text-xs text-slate-500">
                        <span id="adzan-current-time">0:00</span>
                        <span id="adzan-duration">0:00</span>
                    </div>
                </div>

                <div class="flex gap-3">
                    <button onclick="closeAdzanPlayer()" class="btn-secondary flex-1">
                        <i class="fas fa-times mr-2"></i>Tutup
                    </button>
                    <button onclick="closeAdzanPlayer(); showTab('prayer-settings')" class="btn-primary flex-1">
                        <i class="fas fa-mosque mr-2"></i>Sholat
                    </button>
                </div>
            </div>
        </div>

        <!-- Hidden Audio Element -->
        <audio id="adzan-audio" preload="metadata">
            <!-- Using online adzan audio -->
            <source src="https://www.islamcan.com/audio/adhan/adhan-makkah.mp3" type="audio/mpeg">
        </audio>

        <!-- Add Money Transaction Modal -->
        <div id="money-modal" class="modal-overlay">
            <div class="modal-content max-w-md">
                <h3 class="text-2xl font-black mb-2" id="money-modal-title">Tambah Pemasukan</h3>
                <p class="text-sm text-slate-500 mb-6">Catat transaksi keuangan Anda</p>

                <div class="space-y-4">
                    <!-- Amount -->
                    <div>
                        <label class="text-sm font-semibold text-slate-600 mb-2 block">Jumlah (Rp)</label>
                        <input type="number" id="money-amount" placeholder="0" class="input-luxury text-2xl font-bold">
                    </div>

                    <!-- Category -->
                    <div>
                        <label class="text-sm font-semibold text-slate-600 mb-2 block">Kategori</label>
                        <select id="money-category" class="input-luxury">
                            <option value="">Pilih Kategori</option>
                            <!-- Income categories -->
                            <optgroup label="Pemasukan" id="income-categories">
                                <option value="gaji">💰 Gaji</option>
                                <option value="bonus">🎁 Bonus</option>
                                <option value="hadiah">🎉 Hadiah</option>
                                <option value="lainnya-income">💵 Lainnya</option>
                            </optgroup>
                            <!-- Expense categories -->
                            <optgroup label="Pengeluaran" id="expense-categories">
                                <option value="makanan">🍔 Makanan & Minuman</option>
                                <option value="transport">🚗 Transportasi</option>
                                <option value="sedekah">💝 Sedekah</option>
                                <option value="zakat">🕌 Zakat</option>
                                <option value="belanja">🛒 Belanja</option>
                                <option value="tagihan">📱 Tagihan</option>
                                <option value="kesehatan">⚕️ Kesehatan</option>
                                <option value="pendidikan">📚 Pendidikan</option>
                                <option value="hiburan">🎮 Hiburan</option>
                                <option value="lainnya-expense">💸 Lainnya</option>
                            </optgroup>
                        </select>
                    </div>

                    <!-- Description -->
                    <div>
                        <label class="text-sm font-semibold text-slate-600 mb-2 block">Keterangan (Opsional)</label>
                        <input type="text" id="money-description" placeholder="Contoh: Beli buku Ramadan"
                            class="input-luxury">
                    </div>

                    <!-- Date -->
                    <div>
                        <label class="text-sm font-semibold text-slate-600 mb-2 block">Tanggal</label>
                        <input type="date" id="money-date" class="input-luxury">
                    </div>
                </div>

                <div class="flex gap-3 mt-6">
                    <button onclick="closeMoneyModal()" class="btn-secondary flex-1">
                        <i class="fas fa-times mr-2"></i>Batal
                    </button>
                    <button onclick="saveMoneyTransaction()" class="btn-primary flex-1" id="money-save-btn">
                        <i class="fas fa-save mr-2"></i>Simpan
                    </button>
                </div>
            </div>
        </div>

        <script src="js/clock-update.js"></script>
        <script src="js/servers.js"></script>
        <script src="js/new-features.js"></script>

    </div><!-- END #scroll-wrapper -->

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (typeof eliteNavInit === 'function') eliteNavInit();

            // Random Quote Logic
            const quotes = [
                { t: "Puasa adalah perisai yang membentengi hamba dari api neraka.", s: "HR. Ahmad" },
                { t: "Barangsiapa berpuasa Ramadan karena iman, diampuni dosanya yang lalu.", s: "HR. Bukhari" },
                { t: "Dua kegembiraan bagi yang berpuasa: saat berbuka dan saat bertemu Tuhannya.", s: "HR. Muslim" },
                { t: "Ramadan adalah bulan kesabaran, dan balasan kesabaran adalah surga.", s: "HR. Ibnu Khuzaimah" },
                { t: "Sahurlah, karena dalam sahur itu terdapat keberkahan.", s: "HR. Bukhari" },
                { t: "Sedekah itu dapat menghapus dosa sebagaimana air memadamkan api.", s: "HR. Tirmidzi" }
            ];
            const qEl = document.getElementById('daily-quote-text');
            const sEl = document.getElementById('daily-quote-source');
            if (qEl && sEl) {
                const rnd = Math.floor(Math.random() * quotes.length);
                qEl.innerText = `"${quotes[rnd].t}"`;
                sEl.innerText = quotes[rnd].s;
            }
        });
    </script>

</body>